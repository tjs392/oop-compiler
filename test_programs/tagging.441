# soem simple tagging tests
# should output: 42, 0, 10, 1, 1, 99, 5 4 3 2 1

class Box [
    fields val
    method get() with locals:
        return &this.val
    method set(v) with locals:
        !this.val = v
        return 0
]

main with b, x:
    # test store and read tagged int
    b = @Box
    _ = ^b.set(42)
    print(^b.get())

    # test zero through field
    _ = ^b.set(0)
    print(^b.get())

    # test simple arithmetic
    print((3 + 7))

    # test equality
    if (5 == 5): {
        print(1)
    } else {
        print(0)
    }

    # test ineequal
    if (3 != 4): {
        print(1)
    } else {
        print(0)
    }

    # test if 0 is falsy
    if 0: {
        print(0)
    } else {
        print(99)
    }

    # test while loop countdown
    x = 5
    while (x > 0): {
        print(x)
        x = (x - 1)
    }